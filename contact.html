<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no">
    <link rel="icon" type="image/x-icon" href="assets/images/logo-light.ico">
    <link rel="stylesheet" href="assets/css/vendor.css"/>
    <link rel="stylesheet" href="assets/css/style.css"/>

    <title>Contacts</title>
    <!-- Include EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script type="text/javascript">
        (function(){
            emailjs.init("pTRpHXKSb8rB4u09T"); // Replace 'YOUR_USER_ID' with your actual EmailJS user ID
        })();
    </script>
    <script src="https://kit.fontawesome.com/bbcde5dd2b.js" crossorigin="anonymous"></script></head>
<body>

<!-- header -->
<header class="header header-light header-sticky border-bottom">
    <div class="container">
        <div class="row">
            <nav class="navbar navbar-expand-lg navbar-light">

                <!-- logo -->
                <a href="index.html" class="navbar-brand order-1 order-lg-1">
                    <img class="logo-img" src="assets/images/logo-dark.png" alt="Logo">
                </a>

                <!-- navigation -->
                <div class="collapse navbar-collapse order-2 order-lg-2" id="navbarMenu">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item ">
                            <a data-toggle="modal" data-target="#search" class="nav-link text-dark"><i
                                    class="icon-search"></i></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text text-dark" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="index.html">About Us</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="project-types.html">
                                Projects
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="contact.html">
                                Contacts
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- expand nav button -->
                <button class="navbar-toggler order-2" type="button" data-toggle="collapse"
                        data-target=".navbar-collapse"
                        aria-controls="navbarMenu" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </nav>
        </div>
    </div>
</header>

<!-- contact form -->
<section class="min-vh-70">
    <div class="container">
        <div class="row gutter-4 pt-4">
            <div class="col-lg-4">
                <h2 class="font-weight-light"><b>Get in touch</b> with us by filling out our contact form.</h2>
                <p>We don't spam. Promise!</p>
            </div>
            <div class="col-lg-8 pl-lg-5">
                <form id="contact-form" class="row gutter-2">
                    <div class="form-group col-md-6">
                        <label class="required" for="inputName">First Name</label>
                        <input type="text" class="form-control" id="inputName" required>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="inputLastName">Last Name</label>
                        <input type="text" class="form-control" id="inputLastName">
                    </div>
                    <div class="form-group col-md-6">
                        <label class="required" for="inputPhone">Phone</label>
                        <input type="text" class="form-control" id="inputPhone" required>
                    </div>
                    <div class="form-group col-md-6">
                        <label class="required" for="inputEmail">Email</label>
                        <input type="email" class="form-control" id="inputEmail" required>
                    </div>
                    <div class="form-group col-12">
                        <label class="required" for="inputSubject">Subject</label>
                        <input type="text" class="form-control" id="inputSubject" required>
                    </div>
                    <div class="form-group col-12">
                        <label for="inputTextarea">Message</label>
                        <textarea class="form-control" id="inputTextarea" rows="3"></textarea>
                    </div>
                    <div class="col-12">
                        <button id="form-btn" type="submit" class="btn btn-primary mt-2">
                            <span id="button-text">Send Message </span>
                            <i id="loading-icon" class="fa-solid fa-spinner fa-spin"></i>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- footer -->
<footer class="bg-dark text-white py-0 min-vh-30">
    <div class="container">
        <div class="row separated">
            <div class="col-lg-6 py-5">
                <div class="row">
                    <div class="col-md-10">
                        <h4 class="eyebrow mb-2">Quick Links</h4>
                        <ul class="list-group-columns">
                            <li class="list-group-item"><a href="about.html">About</a></li>
                            <li class="list-group-item"><a href="contact.html">Contact Us</a></li>
                            <li class="list-group-item"><a href="listing-masonry.html">Projects</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 py-5">
                <div class="row flex-xl-nowrap justify-content-around">
                    <div class="col-lg-10">
                        <h4 class="eyebrow mb-2">Contact us</h4>
                        <ul class="list-group-columns">
                            <li class="list-group-item text-nowrap"><i class="icon-phone"></i> +359 886 788 232</li>
                            <li class="list-group-item text-nowrap"><i class="icon-phone"></i> +359 899 220 228</li>
                            <li class="list-group-item text-nowrap"><i class="icon-mail"></i> office@studiomorrocco.com
                            </li>
                            <li>
                                <a href="https://www.instagram.com/studio.morrocco/"><i class="icon-instagram"></i></a>
                                <a href="https://www.facebook.com/studio.morrocco/"><i class="icon-facebook-o"></i></a>
                                <a href="blog.html"><i class="icon-youtube-o"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>


<!-- search -->
<div class="modal fade search" id="search" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <input type="text" class="form-control" placeholder="Type your search here"
                       aria-label="Type your search here" aria-describedby="button-addon2">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        </div>
    </div>
</div>


<script type="text/javascript">
    let formElement = document.getElementById('contact-form');
    let loadingIcon = document.getElementById('loading-icon');
    let formBtn = document.getElementById('form-btn');
    formElement.addEventListener('submit', handleFormSubmission);

    function handleFormSubmission(event) {
        event.preventDefault();
        debugger

        // Prepare the email parameters
        const templateParams = {
            inputName: document.getElementById('inputName').value,
            inputLastName: document.getElementById('inputLastName').value,
            inputEmail: document.getElementById('inputEmail').value,
            inputSubject: document.getElementById('inputSubject').value,
            inputTextarea: document.getElementById('inputTextarea').value,
            inputPhone: document.getElementById('inputPhone').value
        };

        loadingIcon.style.display = 'inline-block';
        formBtn.disabled = true;

        // Send the emails using EmailJS
        Promise.all([
            emailjs.send('service_2bczjdc', 'template_bljtuyp', templateParams),
            emailjs.send('service_2bczjdc', 'template_65d7u2i', templateParams)

        ])
            .then(function () {
                showMessage('Emails sent successfully! Please check your mailbox.', 'success');
                clearForm(); // Clear the form
                loadingIcon.style.display = 'none';
                formBtn.disabled = false;
            })
            .catch(function () {
                showMessage('Failed to send emails. Please try again later.', 'error');
            });
    };
    function showMessage(message, type) {
        const messageElement = document.createElement('div');
        messageElement.textContent = message;
        messageElement.classList.add('message', type);
        document.body.appendChild(messageElement);
        setTimeout(() => {
            messageElement.remove();
        }, 5000); // Remove message after 5 seconds
    }
    function clearForm() {
        document.getElementById('contact-form').reset();
    }
</script>

<script src="assets/js/vendor.min.js"></script>
<script src="assets/js/app.js"></script>
</body>
</html>